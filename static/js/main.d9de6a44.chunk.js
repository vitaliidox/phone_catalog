(this["webpackJsonpreact_phone-catalog"]=this["webpackJsonpreact_phone-catalog"]||[]).push([[0],Array(33).concat([function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},,function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){"use strict";c.r(t);var n=c(27),a=c.n(n),s=c(5),r=c(2),i=(c(33),c(34),c(4)),o=c(1),l=(c(35),c(7)),u=c.n(l),j=c(28),b=c.p+"static/media/Logo.13ce922e.svg",d=c.p+"static/media/favourites.dbd19c03.svg",O=c.p+"static/media/favourites-red.d554a185.svg",m=c.p+"static/media/cart.9229aff4.svg",p=(c(36),function(e){return e.Home="home",e.Phones="phones",e.Tablets="tablets",e.Accessories="accessories",e.Favourites="favourites",e.Cart="cart",e}({})),h=function(e){return e.Newest="Newest",e.Alphabetically="Alphabetically",e.Cheapest="Cheapest",e}({}),_=function(e){return e.Four="4",e.Eight="8",e.Sixteen="16",e.All="All",e}({}),f=c(0),x=function(e){var t=e.isActive;return Object(f.jsx)("nav",{className:"navigation",children:Object(f.jsxs)("ul",{className:"navigation__list",children:[Object(f.jsx)("li",{className:"navigation__item",children:Object(f.jsx)(s.c,{className:u()("navigation__link",{"navigation__link--active":t.includes(p.Home)}),to:"/",children:Object(f.jsx)("p",{className:u()("navigation__text-link",{"navigation__text-link--active":t.includes(p.Home)}),children:"home"})})}),Object(f.jsx)("li",{className:"navigation__item",children:Object(f.jsx)(s.c,{className:u()("navigation__link",{"navigation__link--active":t.includes(p.Phones)}),to:"/phones",children:Object(f.jsx)("p",{className:u()("navigation__text-link",{"navigation__text-link--active":t.includes(p.Phones)}),children:"phones"})})}),Object(f.jsx)("li",{className:"navigation__item",children:Object(f.jsx)(s.c,{className:u()("navigation__link",{"navigation__link--active":t.includes(p.Tablets)}),to:"/tablets",children:Object(f.jsx)("p",{className:u()("navigation__text-link",{"navigation__text-link--active":t.includes(p.Tablets)}),children:"tablets"})})}),Object(f.jsx)("li",{className:"navigation__item",children:Object(f.jsx)(s.c,{className:u()("navigation__link",{"navigation__link--active":t.includes(p.Accessories)}),to:"/accessories",children:Object(f.jsx)("p",{className:u()("navigation__text-link",{"navigation__text-link--active":t.includes(p.Accessories)}),children:"accessories"})})})]})})},g=function(){var e=Object(i.l)(),t=Object(s.d)(),c=Object(r.a)(t,2),n=c[0],a=c[1],l=Object(o.useState)("/"),h=Object(r.a)(l,2),_=h[0],g=h[1],v=Object(o.useState)(null),N=Object(r.a)(v,2),y=N[0],k=N[1],w=Object(o.useState)(null),C=Object(r.a)(w,2),S=C[0],T=C[1],E=Object(o.useState)(""),A=Object(r.a)(E,2),F=A[0],P=A[1],I=Object(j.c)(F,500),L=Object(o.useCallback)((function(){n.set("page","1"),a(n)}),[I]),J=Object(o.useCallback)((function(){if(!I)return n.delete("query"),void a(n);L(),n.set("query",I),a(n)}),[I]),B=Object(o.useCallback)((function(e){return window.localStorage.getItem(e)?JSON.parse(window.localStorage.getItem(e)||""):null}),[]),M=Object(o.useCallback)((function(){switch(e.pathname){case"/phones":case"/tablets":case"/accessories":case"/favourites":return!0;default:return!1}}),[e]),R=Object(o.useCallback)((function(){var t=e.pathname.substring(1)||"home";g(t)}),[e]),q=Object(o.useCallback)((function(){P("")}),[]);return Object(o.useEffect)((function(){q(),R()}),[e.pathname]),Object(o.useEffect)((function(){J()}),[I]),Object(o.useEffect)((function(){return window.dispatchEvent(new Event("storage")),T(B(p.Favourites)),k(B(p.Cart)),R(),window.addEventListener("storage",(function(){T(B(p.Favourites)),k(B(p.Cart))})),function(){return window.removeEventListener("storage",(function(){T(B(p.Favourites)),k(B(p.Cart))}))}}),[]),Object(f.jsxs)("header",{className:"header",children:[Object(f.jsxs)("div",{className:"header__items-block",children:[Object(f.jsx)(s.b,{to:"/",className:"header__link-logo",onClick:function(){return g(p.Home)},children:Object(f.jsx)("img",{className:"header__logo",src:b,alt:"Page logo"})}),Object(f.jsx)(x,{isActive:_})]}),Object(f.jsxs)("div",{className:"header__items-block",children:[M()&&Object(f.jsxs)("form",{onSubmit:function(e){return e.preventDefault()},className:"header__search-form",children:[Object(f.jsx)("input",{type:"text",placeholder:"Search in phones...",className:"header__search-input",value:F,onChange:function(e){return P(e.target.value)}}),I.length>0?Object(f.jsx)("button",{className:"header__button header__button--close","data-cy":"searchDelete",type:"submit","aria-label":"delete",onMouseUp:q}):Object(f.jsx)("div",{className:"header__button header__button--search"})]}),Object(f.jsx)(s.b,{to:"favourites",className:u()("header__icon-link",{"header__icon-link--active":_===p.Favourites}),onClick:function(){return g(p.Favourites)},children:Object(f.jsxs)("div",{className:"header__icon-link-wrapper",children:[S&&S.length>0?Object(f.jsx)("img",{src:O,alt:"Favourites"}):Object(f.jsx)("img",{src:d,alt:"Favourites"}),S&&S.length>1&&Object(f.jsx)("div",{className:"header__ellipse",children:S.length})]})}),Object(f.jsx)(s.b,{to:"cart",className:u()("header__icon-link",{"header__icon-link--active":_===p.Cart}),onClick:function(){return g(p.Cart)},children:Object(f.jsxs)("div",{className:"header__icon-link-wrapper",children:[Object(f.jsx)("img",{src:m,alt:"Cart"}),y&&y.length>0&&Object(f.jsx)("div",{className:"header__ellipse",children:y.length})]})})]})]})},v=(c(38),function(e){var t=e.pageUp,c=Object(i.l)();return Object(o.useEffect)((function(){t()}),[c.pathname]),Object(f.jsxs)("footer",{className:"Footer",children:[Object(f.jsx)(s.b,{to:"home",className:"Footer__link-logo",children:Object(f.jsx)("img",{className:"Footer__logo",src:b,alt:"Page logo"})}),Object(f.jsxs)("ul",{className:"Footer__contacts-list",children:[Object(f.jsx)("li",{className:"Footer__item",children:Object(f.jsx)(s.b,{to:"https://github.com/vitaliidox/react_phone-catalog",target:"_blank",className:"Footer__contact-item",children:"Github"})}),Object(f.jsx)("li",{className:"Footer__item",children:Object(f.jsx)(s.b,{to:"contacts",className:"Footer__contact-item",children:"Contacts"})}),Object(f.jsx)("li",{className:"Footer__item",children:Object(f.jsx)(s.b,{to:"rights",className:"Footer__contact-item",children:"Rights"})})]}),Object(f.jsxs)("div",{className:"Footer__go-up-items",children:[Object(f.jsx)(s.b,{className:"Footer__link-back-top",to:"#start",onClick:t,children:"Back to top"}),Object(f.jsx)("button",{type:"button","aria-label":"back-top",className:"Footer__link-button-back-top",onClick:t})]})]})}),N=(c(39),c(40),c(41),function(){return Object(f.jsx)("div",{className:"spinner",children:Object(f.jsx)("div",{className:"spinner__loading"})})}),y=(c(42),c(8)),k=function(e,t){var c=window.localStorage.getItem(e);if(!c)return window.localStorage.setItem(e,JSON.stringify([t])),void window.dispatchEvent(new Event("storage"));for(var n=JSON.parse(c),a=0;a<n.length;a+=1){if(n[a].id===t.id&&"favourites"===e){var s=Object(y.a)(n);s.splice(a,1);var r=Object(y.a)(s);return window.localStorage.setItem(e,JSON.stringify(Object(y.a)(r))),void window.dispatchEvent(new Event("storage"))}if(n[a].id===t.id)return}window.localStorage.setItem(e,JSON.stringify([].concat(Object(y.a)(n),[t]))),window.dispatchEvent(new Event("storage"))},w=function(e,t){if(!e)return!1;for(var c=0;c<e.length;c+=1)if(e[c].id===t.id)return!0;return!1},C=function(e){var t=window.localStorage.getItem("cart");t&&e(JSON.parse(t))},S=function(e){var t=window.localStorage.getItem("favourites");t&&e(JSON.parse(t))},T=function(e){var t=e.product,c=Object(o.useState)(null),n=Object(r.a)(c,2),a=n[0],i=n[1],l=Object(o.useState)(null),j=Object(r.a)(l,2),b=j[0],d=j[1],O=t.type,m=t.imageUrl,p=t.name,h=t.price,_=t.discount,x=t.screen,g=t.capacity,v=t.ram,N=h*((100-_)/100);return Object(o.useEffect)((function(){return C(i),S(d),window.addEventListener("storage",(function(){C(i),S(d)})),function(){return window.removeEventListener("storage",(function(){C(i),S(d)}))}}),[]),Object(f.jsxs)("article",{"data-cy":"cardsContainer",className:"product-card",children:[Object(f.jsx)(s.b,{to:"/".concat(O,"s/").concat(t.id),children:Object(f.jsx)("div",{className:"product-card__image-wrapper",children:Object(f.jsx)("img",{className:"product-card__image",src:m,alt:"product"})})}),Object(f.jsxs)("div",{className:"product-card__main-info",children:[Object(f.jsx)(s.b,{to:"/".concat(O,"s/").concat(t.id),className:"product-card__name",children:p}),Object(f.jsxs)("div",{className:"product-card__price-wrapper",children:[Object(f.jsx)("p",{className:"product-card__price",children:"$".concat(N)}),_?Object(f.jsx)("p",{className:"product-card__old-price",children:"$".concat(h)}):""]})]}),Object(f.jsxs)("ul",{className:"product-card__technical-data",children:[Object(f.jsxs)("li",{className:"product-card__technical-data-item",children:[Object(f.jsx)("p",{className:"product-card__technical-data-name",children:"Screen"}),Object(f.jsx)("p",{className:"product-card__technical-data-info",children:x})]}),Object(f.jsxs)("li",{className:"product-card__technical-data-item",children:[Object(f.jsx)("p",{className:"product-card__technical-data-name",children:"Capacity"}),Object(f.jsx)("p",{className:"product-card__technical-data-info",children:g||"- "})]}),Object(f.jsxs)("li",{className:"product-card__technical-data-item",children:[Object(f.jsx)("p",{className:"product-card__technical-data-name",children:"RAM"}),Object(f.jsx)("p",{className:"product-card__technical-data-info",children:v||"-"})]})]}),Object(f.jsxs)("div",{className:"product-card__buttons",children:[Object(f.jsx)("button",{className:u()("product-card__button-add",{"product-card__button-add--selected":w(a,t)}),type:"button",onClick:function(){return k("cart",t)},children:w(a,t)?"Added to cart":"Add to cart"}),Object(f.jsx)("button",{className:u()("product-card__button-favourite",{"product-card__button-favourite--selected":w(b,t)}),type:"button","aria-label":"add to favourites","data-cy":"addToFavorite",onClick:function(){return k("favourites",t)}})]})]})},E=function(e){var t=e.title,c=e.products,n=e.isLoading,a=Object(o.useState)(0),s=Object(r.a)(a,2),i=s[0],l=s[1],u=function(e){var t=c.length;switch(e){case"prev":if(0===i){l(-288*(t-4));break}if(i+1152>0){l(0);break}l((function(e){return e+1152}));break;case"next":if(i===-288*(t-4)){l(0);break}if(i-1152<-288*(t-4)){l(-288*(t-4));break}l((function(e){return e-1152}));break;default:l(0)}};return Object(o.useEffect)((function(){var e=setTimeout((function(){u("next")}),5e3);return function(){return clearTimeout(e)}}),[c,i]),Object(f.jsx)("article",{className:"products-slider",children:n?Object(f.jsx)(N,{}):Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("div",{className:"products-slider__head",children:[Object(f.jsx)("h2",{className:"products-slider__title",children:t}),Object(f.jsx)("button",{className:"products-slider__button products-slider__button--prev",type:"button","aria-label":"prev",onClick:function(){return u("prev")}}),Object(f.jsx)("button",{className:"products-slider__button products-slider__button--next",type:"button","aria-label":"next",onClick:function(){return u("next")}})]}),Object(f.jsx)("div",{className:"products-slider__carousel",style:{transform:"translateX(".concat(i,"px)")},children:c.map((function(e){return Object(f.jsx)(T,{product:e},"".concat(e.id))}))})]})})},A=(c(43),[[c.p+"static/media/banner-phones.b4eeda8b.png","phones"],[c.p+"static/media/banner-tablets.a962057c.png","tablets"],[c.p+"static/media/banner-accessories.bdd2e0fc.png","accessories"]]),F=function(){var e=Object(o.useState)(0),t=Object(r.a)(e,2),c=t[0],n=t[1],a=1040,i=function(e){var t=A.length;switch(e){case"prev":if(0===c){n(-1040*(t-1));break}n((function(e){return e+a}));break;case"next":if(c===-1040*(t-1)){n(0);break}n((function(e){return e-a}));break;default:n(0)}};return Object(o.useEffect)((function(){var e=setTimeout((function(){i("next")}),5e3);return function(){return clearTimeout(e)}}),[c]),Object(f.jsxs)("article",{className:"banner-slider",children:[Object(f.jsxs)("div",{className:"banner-slider__basic",children:[Object(f.jsx)("button",{className:"banner-slider__button banner-slider__button--prev",type:"button","aria-label":"button-prev",onClick:function(){return i("prev")}}),Object(f.jsx)("div",{className:"banner-slider__carousel",children:Object(f.jsx)("div",{className:"banner-slider__inner",style:{transform:"translateX(".concat(c,"px)")},children:A.map((function(e){return Object(f.jsx)("div",{className:"banner-slider__carousel-item",children:Object(f.jsx)(s.b,{to:e[1],children:Object(f.jsx)("img",{className:"banner-slider__carousel-image",src:e[0],alt:"banner-img"})})},e[0])}))})}),Object(f.jsx)("button",{className:"banner-slider__button banner-slider__button--next",type:"button","aria-label":"button-next",onClick:function(){return i("next")}})]}),Object(f.jsx)("div",{className:"banner-slider__indacators-wrapper",children:[0,1,2].map((function(e,t){return Object(f.jsx)("div",{className:u()("banner-slider__indicator",{"banner-slider__indicator--active":-c/a===t})},"".concat(t+e))}))})]})},P=(c(44),c.p+"static/media/category-phones.af93d992.png"),I=c.p+"static/media/category-tablets.51782e18.png",L=c.p+"static/media/category-accessories.e47d6d6d.png",J=function(e){return e.Phone="phone",e.Tablet="tablet",e.Accesorie="accessories",e}(J||{}),B=function(e){var t=e.products,c=function(e){return t.filter((function(t){return t.type===e})).length};return Object(f.jsxs)("article",{className:"shop-by-category",children:[Object(f.jsx)("h2",{className:"shop-by-category__title",children:"Shop by category"}),Object(f.jsxs)("div",{"data-cy":"categoryLinksContainer",className:"shop-by-category__categories",children:[Object(f.jsxs)("div",{className:"shop-by-category__card",children:[Object(f.jsx)(s.b,{to:"phones",className:"shop-by-category__img-wrapper shop-by-category__img-wrapper--phones",children:Object(f.jsx)("img",{src:P,alt:"mobile phones"})}),Object(f.jsx)(s.b,{to:"phone",className:"shop-by-category__name",children:"Mobile phones"}),Object(f.jsx)("p",{className:"shop-by-category__models-number",children:"".concat(c(J.Phone)," models")})]}),Object(f.jsxs)("div",{className:"shop-by-category__card",children:[Object(f.jsx)(s.b,{to:"/tablets",className:"shop-by-category__img-wrapper shop-by-category__img-wrapper--tablets",children:Object(f.jsx)("img",{src:I,alt:"tablets"})}),Object(f.jsx)(s.b,{to:"/tablets",className:"shop-by-category__name",children:"Tablets"}),Object(f.jsx)("p",{className:"shop-by-category__models-number",children:"".concat(c(J.Tablet)," models")})]}),Object(f.jsxs)("div",{className:"shop-by-category__card",children:[Object(f.jsx)(s.b,{to:"accessories",className:"shop-by-category__img-wrapper shop-by-category__img-wrapper--accessories",children:Object(f.jsx)("img",{src:L,alt:"accessories"})}),Object(f.jsx)(s.b,{to:"accessories",className:"shop-by-category__name",children:"Accessories"}),Object(f.jsx)("p",{className:"shop-by-category__models-number",children:"".concat(c(J.Accesorie)," models")})]})]})]})},M=function(e){var t=e.products,c=e.isLoading,n=Object(o.useCallback)((function(){return t.filter((function(e){return e.discount})).sort((function(e,t){return t.price*((100-t.discount)/100)-e.price*((100-e.discount)/100)}))}),[t]),a=Object(o.useCallback)((function(){return t.filter((function(e){return!e.discount})).sort((function(e,t){return t.price-e.price}))}),[t]);return Object(f.jsxs)("section",{className:"home",children:[Object(f.jsx)(F,{}),Object(f.jsx)(E,{isLoading:c,products:n(),title:"Hot prices"}),Object(f.jsx)(B,{products:t}),Object(f.jsx)(E,{isLoading:c,products:a(),title:"Brand new models"})]})},R=(c(45),c(46),c.p+"static/media/arrow-disabled.df6c57d0.svg"),q=c.p+"static/media/home.d4c29e4f.svg",D=function(){var e=function(e){return e.pathname.split("/").filter((function(e){return"%"!==e&&"#"!==e&&e})).map((function(e){return e.charAt(0).toUpperCase()+e.slice(1)}))}(Object(i.l)());return Object(f.jsx)("article",{"data-cy":"breadCrumbs",className:"breadcrumb",children:Object(f.jsxs)("ul",{className:"breadcrumb__list",children:[Object(f.jsx)("li",{className:"breadcrumb__item",children:Object(f.jsx)(s.b,{className:"breadcrumb__home-link",to:"/",children:Object(f.jsx)("img",{className:"breadcrumb__img-home",src:q,alt:"home"})})}),e.map((function(e,t,c){return Object(f.jsxs)("li",{className:"breadcrumb__item",children:[Object(f.jsx)("img",{className:"breadcrumb__img-arrow",src:R,alt:"arrow"}),c.length>=1&&t===c.length-1?Object(f.jsx)("p",{className:"breadcrumb__page breadcrumb__page--light",children:e}):Object(f.jsx)(s.b,{to:"/".concat(e.toLowerCase()),className:"breadcrumb__page",children:e})]},"".concat(t+c.length))}))]})})},U=(c(47),function(){var e=Object(o.useState)(null),t=Object(r.a)(e,2),c=t[0],n=t[1],a=Object(s.d)(),i=Object(r.a)(a,2),l=i[0],j=i[1],b=Object(o.useMemo)((function(){return function(e){n(!c&&e?e:null)}}),[c]),d=function(e,t){"perPage"===e&&(l.set("page","1"),j(l)),l.set(e,t),j(l),b(e)};return Object(f.jsxs)("div",{className:"form",children:[Object(f.jsxs)("div",{className:"form__item",children:[Object(f.jsx)("div",{className:"form__label",children:"Sort by"}),Object(f.jsxs)("div",{className:u()("form__select",{"form__select form__select--active":"sort"===c}),onBlur:function(e){e.currentTarget.contains(e.relatedTarget)||b(null)},children:[Object(f.jsx)("button",{type:"button","data-form":"sort",className:"form__selected-option",onClick:function(e){return b(e.currentTarget.dataset.form||null)},children:l.get("sort")||h.Newest}),Object(f.jsxs)("div",{className:u()("form__options-wrapper",{"form__options-wrapper--active":"sort"===c}),onBlur:function(e){e.currentTarget.contains(e.relatedTarget)||b(null)},children:[Object(f.jsx)("button",{className:"form__option",type:"button",onClick:function(e){return d("sort",e.currentTarget.innerText)},children:h.Newest}),Object(f.jsx)("button",{className:"form__option",type:"button",onClick:function(e){return d("sort",e.currentTarget.innerText)},children:h.Alphabetically}),Object(f.jsx)("button",{className:"form__option",type:"button",onClick:function(e){return d("sort",e.currentTarget.innerText)},children:h.Cheapest})]})]})]}),Object(f.jsxs)("div",{className:"form__item form__item--numbers",children:[Object(f.jsx)("div",{className:"form__label",children:"Items on page"}),Object(f.jsxs)("div",{className:u()("form__select form__select--numbers",{"form__select--active":"perPage"===c}),onBlur:function(e){e.currentTarget.contains(e.relatedTarget)||b(null)},children:[Object(f.jsx)("button",{type:"button","data-form":"perPage",className:"form__selected-option",onClick:function(e){return b(e.currentTarget.dataset.form||null)},children:l.get("perPage")||_.Sixteen}),Object(f.jsxs)("div",{className:u()("form__options-wrapper",{"form__options-wrapper--active":"perPage"===c}),children:[Object(f.jsx)("button",{className:"form__option",type:"button",onClick:function(e){return d("perPage",e.currentTarget.innerText)},children:_.Four}),Object(f.jsx)("button",{className:"form__option",type:"button",onClick:function(e){return d("perPage",e.currentTarget.innerText)},children:_.Eight}),Object(f.jsx)("button",{className:"form__option",type:"button",onClick:function(e){return d("perPage",e.currentTarget.innerText)},children:_.Sixteen}),Object(f.jsx)("button",{className:"form__option",type:"button",onClick:function(e){return d("perPage",e.currentTarget.innerText)},children:_.All})]})]})]})]})}),H=(c(48),function(e){var t=e.category,c=t.charAt(0).toUpperCase()+t.slice(1);return Object(f.jsx)("section",{className:"no-results",children:Object(f.jsx)("h1",{className:"no-results__title",children:"".concat(c," not found")})})}),$=(c(49),c(50),function(e){var t=e.pages,c=Object(s.d)(),n=Object(r.a)(c,2),a=n[0],i=n[1],l=Object(o.useCallback)((function(){var e=a.get("page");return e?+e-1:0}),[t]),j=Object(o.useState)(l()),b=Object(r.a)(j,2),d=b[0],O=b[1],m=Object(o.useCallback)((function(){a.set("page","".concat(d+1)),i(a)}),[d]);return Object(o.useEffect)((function(){O(l())}),[t]),Object(o.useEffect)((function(){m()}),[d]),Object(f.jsxs)("article",{className:"pagination",children:[Object(f.jsx)("button",{"data-cy":"paginationLeft",className:"pagination__button",type:"button","aria-label":"previous page",onClick:function(){return O((function(e){return e-1}))},disabled:t[0]===d}),Object(f.jsx)("div",{className:"pagination__container",children:Object(f.jsx)("ul",{className:"pagination__page-list",children:t.map((function(e){return Object(f.jsx)("li",{className:"pagination__page",children:Object(f.jsx)("button",{className:u()("pagination__link",{"pagination__link--active":e===d}),type:"button",onClick:function(){return O(e)},children:e+1})},e)}))})}),Object(f.jsx)("button",{"data-cy":"paginationRight",className:"pagination__button pagination__button-next",type:"button","aria-label":"next page",onClick:function(){return O((function(e){return e+1}))},disabled:t[t.length-1]===d})]})}),W=function(e){var t=e.products,c=Object(o.useState)([]),n=Object(r.a)(c,2),a=n[0],i=n[1],l=Object(o.useState)([]),u=Object(r.a)(l,2),j=u[0],b=u[1],d=Object(o.useState)([]),O=Object(r.a)(d,2),m=O[0],p=O[1],x=Object(s.d)(),g=Object(r.a)(x,1)[0],v=Object(o.useCallback)((function(){var e=g.get("perPage");switch(e){case _.All:return t.length;case null:return+_.Sixteen;default:return+e}}),[g]),N=Object(o.useCallback)((function(e){var t=Object(y.a)(e);t.sort((function(e,t){switch(g.get("sort")){case h.Alphabetically:return e.name.localeCompare(t.name);case h.Cheapest:return e.price*((100-e.discount)/100)-t.price*((100-t.discount)/100);default:return e.age-t.age}})),b(t)}),[g]),k=Object(o.useCallback)((function(e){var c=+(g.get("page")||1),n=v(),a=(c-1)*n,s=[];if(n!==t.length)if(e.length){for(var r=a;r<c*n;r+=1)e[r]&&(s=[].concat(Object(y.a)(s),[e[r]]));p(s)}else p([]);else p(Object(y.a)(e))}),[j,g.get("perPage"),g.get("page")]),w=Object(o.useCallback)((function(){return v()<t.length}),[t,v()]),C=Object(o.useCallback)((function(){if(v()===t.length)return[];var e=Math.ceil(t.length/v());return Array.from(Array(e).keys())}),[v(),g]);return Object(o.useEffect)((function(){i(C)}),[g]),Object(o.useEffect)((function(){N(t)}),[g.get("sort"),t]),Object(o.useEffect)((function(){k(j)}),[j,g.get("perPage"),g.get("page")]),Object(f.jsxs)("section",{className:"products-list",children:[Object(f.jsx)("div",{className:"products-list__products",children:m.map((function(e){return Object(f.jsx)("div",{className:"products-list__product-item",children:Object(f.jsx)(T,{product:e},e.id)},e.name)}))}),w()&&Object(f.jsx)($,{pages:a})]})},z=(c(51),c(52),function(){return Object(f.jsxs)("section",{className:"no-search-result",children:[Object(f.jsx)("p",{className:"no-search-result__message",children:"No Search Result"}),Object(f.jsx)("p",{className:"no-search-result__description",children:"We can't find any item matching your search."})]})}),X=function(e){var t=e.products,c=Object(s.d)(),n=Object(r.a)(c,1)[0],a=Object(o.useCallback)((function(){return n.get("query")}),[n]),i=Object(o.useCallback)((function(){var e=a();return e?Object(y.a)(t).filter((function(t){return t.name.toLowerCase().includes(e.toLowerCase())})):[]}),[n]);return i().length>0?Object(f.jsxs)("section",{className:"search-list",children:[Object(f.jsx)("p",{className:"search-list__number",children:"".concat(i().length," results")}),Object(f.jsx)(W,{products:i()})]}):Object(f.jsx)(z,{})},Y=function(){return fetch("https://mate-academy.github.io/react_phone-catalog/api/products.json").then((function(e){return e.json()}))},G=function(e){return e.Phone="phone",e.Tablet="tablet",e.Accessories="accessories",e}({}),K=function(){var e=Object(s.d)(),t=Object(r.a)(e,1)[0],c=Object(o.useState)([]),n=Object(r.a)(c,2),a=n[0],i=n[1],l=Object(o.useState)(!1),u=Object(r.a)(l,2),j=u[0],b=u[1],d=Object(o.useCallback)((function(){return t.get("query")}),[t]);return Object(o.useMemo)((function(){b(!0),Y().then((function(e){var t=e.filter((function(e){return e.type===G.Phone}));i(t)})).finally((function(){return b(!1)}))}),[]),d()?Object(f.jsx)(X,{products:a}):Object(f.jsxs)("section",{className:"phones",children:[Object(f.jsx)(D,{}),Object(f.jsx)("h1",{className:"phones__title",children:"Mobile phones"}),Object(f.jsx)("p",{className:"phones__models-number",children:"".concat(a.length," models")}),Object(f.jsx)(U,{}),j?Object(f.jsx)(N,{}):Object(f.jsx)(f.Fragment,{children:a.length>0?Object(f.jsx)(W,{products:a}):Object(f.jsx)(H,{category:G.Phone})})]})},Q=c(26),V=(c(53),c(54),function(e){var t=e.details,c=e.generalData,n=t.android,a=t.display,s=t.id,i=t.images,l=t.name,j=t.storage,b=t.color,d=Object(o.useState)(i[0]),O=Object(r.a)(d,2),m=O[0],p=O[1],h=Object(o.useState)(b[0]),_=Object(r.a)(h,2),x=_[0],g=_[1],v=Object(o.useState)(j.flash),N=Object(r.a)(v,2),y=N[0],T=N[1],E=Object(o.useState)(null),A=Object(r.a)(E,2),F=A[0],P=A[1],I=Object(o.useState)(null),L=Object(r.a)(I,2),J=L[0],B=L[1],M=Object(o.useCallback)((function(e){p(e)}),[]),R=Object(o.useCallback)((function(e){g(e)}),[]),q=Object(o.useCallback)((function(e,t,c){"Enter"===e.key&&c(t)}),[]);return Object(o.useEffect)((function(){return p(i[0]),C(P),S(B),window.addEventListener("storage",(function(){C(P),S(B)})),function(){return window.removeEventListener("storage",(function(){C(P),S(B)}))}}),[t]),Object(f.jsxs)("section",{className:"product-info",children:[Object(f.jsx)("h1",{className:"product-info__title",children:l}),Object(f.jsxs)("div",{className:"product-info__wrapper-info",children:[Object(f.jsxs)("section",{className:"product-info__images",children:[Object(f.jsx)("div",{className:"product-info__column-images",children:i.map((function(e,t){return Object(f.jsx)("div",{className:u()("product-info__box-image",{"product-info__box-image--selected":e===m}),role:"button",tabIndex:t,onClick:function(){return M(e)},onKeyDown:function(t){return q(t,e,M)},children:Object(f.jsx)("img",{src:e,alt:"phone-1"})},e)}))}),Object(f.jsx)("div",{className:"product-info__box-large-image",children:Object(f.jsx)("img",{src:m,alt:"phone large"})})]}),Object(f.jsxs)("section",{className:"product-info__parameters",children:[Object(f.jsxs)("div",{className:"product-info__colors-container",children:[Object(f.jsx)("p",{className:"product-info__colors-title",children:"Available colors"}),Object(f.jsx)("div",{className:"product-info__colors-wrapper",children:b.map((function(e){return Object(f.jsx)("button",{type:"button",className:u()("product-info__color",{"product-info__color--active":e===x}),onClick:function(){return R(e)},"aria-label":"color",style:{backgroundColor:e}},e)}))})]}),Object(f.jsxs)("div",{className:"product-info__capacity-container",children:[Object(f.jsx)("p",{className:"product-info__capacity-title",children:"Select capacity"}),Object(f.jsx)("div",{className:"product-info__capacities-wrapper",children:[j.flash].concat().map((function(e){return Object(f.jsx)("button",{disabled:0===e.length,type:"button",className:u()("product-info__capacity",{"product-info__capacity--active":e===y}),onClick:function(){return T(e)},children:e||"- MB"},e)}))})]}),Object(f.jsxs)("div",{className:"product-info__shop-container",children:[Object(f.jsxs)("div",{className:"product-info__prices",children:[Object(f.jsx)("div",{className:"product-info__actual-price",children:"$".concat(c.price*((100-c.discount)/100))}),Object(f.jsx)("div",{className:"product-info__old-price",children:"$".concat(c.price)})]}),Object(f.jsxs)("div",{className:"product-info__buttons",children:[Object(f.jsx)("button",{className:u()("product-info__add-button",{"product-info__add-button--selected":w(F,c)}),type:"button",onClick:function(){return k("cart",c)},children:w(F,c)?"Added to cart":"Add to cart"}),Object(f.jsx)("button",{className:u()("product-info__button-favourite",{"product-info__button-favourite--selected":w(J,c)}),type:"button","aria-label":"add to favourites","data-cy":"addToFavorite",onClick:function(){return k("favourites",c)}})]})]}),Object(f.jsx)("table",{className:"product-info__main-characteristics",children:Object(f.jsxs)("tbody",{children:[Object(f.jsxs)("tr",{children:[Object(f.jsx)("td",{children:"Screen"}),Object(f.jsx)("td",{children:a.screenSize||"-"})]}),Object(f.jsxs)("tr",{children:[Object(f.jsx)("td",{children:"Resolution"}),Object(f.jsx)("td",{children:a.screenResolution||"-"})]}),Object(f.jsxs)("tr",{children:[Object(f.jsx)("td",{children:"OS"}),Object(f.jsx)("td",{children:n.os||"-"})]}),Object(f.jsxs)("tr",{children:[Object(f.jsx)("td",{children:"RAM"}),Object(f.jsx)("td",{children:j.ram||"-"})]})]})})]}),Object(f.jsx)("div",{className:"product-info__id-product",children:"ID: ".concat(s)})]})]})}),Z=(c(55),function(e){var t=e.details,c=e.generalData.snippet,n=t.battery,a=t.camera,s=t.connectivity,r=t.description,i=t.display,o=t.hardware,l=t.sizeAndWeight,u=t.storage;return Object(f.jsxs)("section",{className:"detiled-description",children:[Object(f.jsxs)("section",{"data-cy":"productDescription",className:"detiled-description__about",children:[Object(f.jsx)("h3",{className:"detiled-description__title-about title",children:"About"}),Object(f.jsx)("div",{className:"detiled-description__about-block",children:Object(f.jsxs)("div",{children:[Object(f.jsx)("h4",{className:"detiled-description__title-description",children:c}),Object(f.jsx)("p",{className:"detiled-description__text",children:r})]})})]}),Object(f.jsxs)("section",{className:"detiled-description__tech-specs",children:[Object(f.jsx)("h3",{className:"detiled-description__title-tech-specs title",children:"Tech specs"}),Object(f.jsx)("table",{className:"detiled-description__tech-specs-table",children:Object(f.jsxs)("tbody",{children:[Object(f.jsxs)("tr",{children:[Object(f.jsx)("td",{children:"Screen"}),Object(f.jsx)("td",{children:i.screenSize||"-"})]}),Object(f.jsxs)("tr",{children:[Object(f.jsx)("td",{children:"Resolution"}),Object(f.jsx)("td",{children:i.screenResolution||"-"})]}),Object(f.jsxs)("tr",{children:[Object(f.jsx)("td",{children:"Processor"}),Object(f.jsx)("td",{children:o.cpu||"-"})]}),Object(f.jsxs)("tr",{children:[Object(f.jsx)("td",{children:"RAM"}),Object(f.jsx)("td",{children:u.ram||"-"})]}),Object(f.jsxs)("tr",{children:[Object(f.jsx)("td",{children:"Battery"}),Object(f.jsx)("td",{children:n.type||"-"})]}),Object(f.jsxs)("tr",{children:[Object(f.jsx)("td",{children:"Camera"}),Object(f.jsx)("td",{children:a.primary||"-"})]}),Object(f.jsxs)("tr",{children:[Object(f.jsx)("td",{children:"Weight"}),Object(f.jsx)("td",{children:l.weight||"-"})]}),Object(f.jsxs)("tr",{children:[Object(f.jsx)("td",{children:"Cell"}),Object(f.jsx)("td",{children:s.cell||"-"})]})]})})]})]})}),ee=function(e){var t=e.products,c=Object(i.p)().productId,n=void 0===c?"":c,a=Object(o.useState)(null),s=Object(r.a)(a,2),l=s[0],u=s[1],j=Object(o.useState)(!1),b=Object(r.a)(j,2),d=b[0],O=b[1],m=Object(o.useState)(null),p=Object(r.a)(m,2),h=p[0],_=p[1],x=Object(o.useCallback)((function(){O(!0),function(e){var t="https://mate-academy.github.io/react_phone-catalog/api/products/".concat(e,".json");return fetch(t).then((function(e){return e.json()}))}(n).then((function(e){return u(Object(Q.a)(Object(Q.a)({},e),{},{color:["black","silver","red"]}))})).catch((function(){return u(null)})).finally((function(){return O(!1)}))}),[n]),g=Object(o.useCallback)((function(){for(var e=0;e<t.length;e+=1)if(t[e].id===n)return void _(t[e]);_(null)}),[t,n]);return Object(o.useEffect)((function(){g()}),[t,n]),Object(o.useEffect)((function(){x()}),[n]),Object(f.jsx)("section",{className:"product-details",children:d?Object(f.jsx)(N,{}):Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(D,{}),Object(f.jsxs)("div",{className:"product-details__buttons-container",children:[Object(f.jsx)("button",{"data-cy":"backButton",className:"product-details__button",type:"button","aria-label":"go back",onClick:function(){return window.history.back()}}),Object(f.jsx)("button",{type:"button",className:"product-details__back-button",onClick:function(){return window.history.back()},children:"Back"})]}),l&&h&&Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(V,{generalData:h,details:l}),Object(f.jsx)(Z,{generalData:h,details:l}),Object(f.jsx)(E,{isLoading:d,products:t,title:"You may also like"})]}),!l&&!d&&Object(f.jsx)("div",{className:"product-details__wrapper-info",children:Object(f.jsx)(H,{category:"Product"})})]})})},te=(c(56),function(){var e=Object(s.d)(),t=Object(r.a)(e,1)[0],c=Object(o.useState)([]),n=Object(r.a)(c,2),a=n[0],i=n[1],l=Object(o.useState)(!1),u=Object(r.a)(l,2),j=u[0],b=u[1],d=Object(o.useCallback)((function(){return t.get("query")}),[t]);return Object(o.useMemo)((function(){b(!0),Y().then((function(e){var t=e.filter((function(e){return e.type===G.Tablet}));i(t)})).finally((function(){return b(!1)}))}),[]),d()?Object(f.jsx)(X,{products:a}):Object(f.jsxs)("section",{className:"tablets",children:[Object(f.jsx)(D,{}),Object(f.jsx)("h1",{className:"tablets__title",children:"Tablets"}),Object(f.jsx)("p",{className:"tablets__models-number",children:"".concat(a.length," models")}),Object(f.jsx)(U,{}),j?Object(f.jsx)(N,{}):Object(f.jsx)(f.Fragment,{children:a.length>0?Object(f.jsx)(W,{products:a}):Object(f.jsx)(H,{category:G.Tablet})})]})}),ce=(c(57),function(){var e=Object(s.d)(),t=Object(r.a)(e,1)[0],c=Object(o.useState)([]),n=Object(r.a)(c,2),a=n[0],i=n[1],l=Object(o.useState)(!1),u=Object(r.a)(l,2),j=u[0],b=u[1],d=Object(o.useCallback)((function(){return t.get("query")}),[t]);return Object(o.useMemo)((function(){b(!0),Y().then((function(e){var t=e.filter((function(e){return e.type===G.Accessories}));i(t)})).finally((function(){return b(!1)}))}),[]),d()?Object(f.jsx)(X,{products:a}):Object(f.jsxs)("section",{className:"accessories",children:[Object(f.jsx)(D,{}),Object(f.jsx)("h1",{className:"accessories__title",children:"Accessories"}),Object(f.jsx)("p",{className:"accessories__models-number",children:"".concat(a.length," models")}),Object(f.jsx)(U,{}),j?Object(f.jsx)(N,{}):Object(f.jsx)(f.Fragment,{children:a.length>0?Object(f.jsx)(W,{products:a}):Object(f.jsx)(H,{category:G.Accessories})})]})}),ne=(c(58),function(){var e=Object(s.d)(),t=Object(r.a)(e,1)[0],c=Object(o.useState)(null),n=Object(r.a)(c,2),a=n[0],i=n[1],l=Object(o.useCallback)((function(){return t.get("query")}),[t]);return Object(o.useEffect)((function(){return S(i),window.addEventListener("storage",(function(){S(i)})),function(){return window.removeEventListener("storage",(function(){S(i)}))}}),[]),l()?Object(f.jsx)(X,{products:a||[]}):Object(f.jsxs)("section",{className:"favourites",children:[Object(f.jsx)(D,{}),Object(f.jsx)("h1",{className:"favourites__title",children:"Favourites"}),Object(f.jsx)("p",{className:"favourites__models-number",children:"".concat(null===a||void 0===a?void 0:a.length," models")}),a&&a.length>0?Object(f.jsx)(W,{products:a}):Object(f.jsx)(H,{category:"Favourites"})]})}),ae=(c(59),c(60),c(61),function(e){var t=e.product,c=e.setTotalCost,n=e.setTotalItems,a=Object(o.useState)(1),s=Object(r.a)(a,2),i=s[0],l=s[1],u=t.name,j=t.price,b=t.discount,d=t.imageUrl,O=i*(j*((100-b)/100)),m=Object(o.useCallback)((function(){var e=window.localStorage.getItem("cart");if(!e)return window.localStorage.setItem("cart",JSON.stringify([t])),void window.dispatchEvent(new Event("storage"));for(var a=JSON.parse(e),s=0;s<a.length;s+=1)if(a[s].id===t.id){var r=Object(y.a)(a);r.splice(s,1);var o=Object(y.a)(r);return window.localStorage.setItem("cart",JSON.stringify(Object(y.a)(o))),window.dispatchEvent(new Event("storage")),c((function(e){return e-O})),void n((function(e){return e-i}))}window.localStorage.setItem("cart",JSON.stringify([].concat(Object(y.a)(a),[t]))),window.dispatchEvent(new Event("storage"))}),[t,i]),p=Object(o.useCallback)((function(){l((function(e){return e-1})),n((function(e){return e-1})),c((function(e){return e-O}))}),[]),h=Object(o.useCallback)((function(){l((function(e){return e+1})),n((function(e){return e+1})),c((function(e){return e+O}))}),[]);return Object(o.useEffect)((function(){c((function(e){return e+O}))}),[]),Object(o.useEffect)((function(){n((function(e){return e+i}))}),[]),Object(f.jsxs)("li",{className:"cart-item",children:[Object(f.jsx)("button",{className:"cart-item__delete",type:"button","aria-label":"delete item",onClick:m}),Object(f.jsx)("div",{className:"cart-item__image-wrapper",children:Object(f.jsx)("img",{className:"cart-item__image",src:d,alt:"product"})}),Object(f.jsx)("p",{className:"cart-item__name",children:u}),Object(f.jsxs)("div",{className:"cart-item__quantity-items",children:[Object(f.jsx)("button",{className:"cart-item__decrease",type:"button","aria-label":"decrease",onClick:p,disabled:!i}),Object(f.jsx)("div",{className:"cart-item__quantity","data-cy":"productQuantity",children:i}),Object(f.jsx)("button",{className:"cart-item__increase",type:"button","aria-label":"increase",onClick:h})]}),Object(f.jsx)("div",{className:"cart-item__price",children:"$".concat(O)})]})}),se=function(e){var t=e.products,c=e.setTotalCost,n=e.setTotalItems;return Object(f.jsx)("ul",{className:"cart-list",children:t.map((function(e){return Object(f.jsx)(ae,{product:e,setTotalCost:c,setTotalItems:n},e.id)}))})},re=function(){var e=Object(o.useState)(null),t=Object(r.a)(e,2),c=t[0],n=t[1],a=Object(o.useState)(0),i=Object(r.a)(a,2),l=i[0],u=i[1],j=Object(o.useState)(0),b=Object(r.a)(j,2),d=b[0],O=b[1],m=Object(o.useState)(!1),p=Object(r.a)(m,2),h=p[0],_=p[1];return Object(o.useEffect)((function(){return C(n),window.addEventListener("storage",(function(){C(n)})),function(){return window.removeEventListener("storage",(function(){C(n)}))}}),[window.localStorage]),Object(o.useEffect)((function(){var e=setTimeout((function(){_(!1)}),2e3);return function(){return clearTimeout(e)}}),[h]),Object(f.jsxs)("section",{className:"cart",children:[Object(f.jsxs)("div",{className:"cart__links-container",children:[Object(f.jsx)(s.b,{to:"/phones",className:"cart__back-link",children:Object(f.jsx)("button",{"data-cy":"backButton",className:"cart__back-button",type:"button","aria-label":"go back"})}),Object(f.jsx)(s.b,{to:"/phones",className:"cart__back-link",children:"Back"})]}),Object(f.jsx)("h1",{className:"cart__title",children:"Cart"}),Object(f.jsxs)("div",{className:"cart__shop-list",children:[Object(f.jsx)("div",{className:"cart__products",children:c&&c.length>0?Object(f.jsx)(se,{products:c,setTotalCost:u,setTotalItems:O}):Object(f.jsx)("h3",{className:"cart__title-empty",children:"Your cart is empty"})}),Object(f.jsxs)("div",{className:"cart__checkout-wrapper",children:[Object(f.jsx)("div",{className:"cart__total-price",children:"$".concat(l)}),Object(f.jsx)("p",{className:"cart__total-products",children:"Total for ".concat(d," items")}),Object(f.jsx)("button",{className:"cart__checkout-button",type:"button",onClick:function(){return _(!0)},children:"Checkout"}),h&&Object(f.jsx)("div",{className:"cart__message",children:"We are sorry, but this feature is not implemented yet"})]})]})]})},ie=(c(62),function(){return Object(f.jsxs)("section",{className:"not-found",children:[Object(f.jsx)("h1",{className:"not-found__title",children:"Oops!"}),Object(f.jsx)("p",{className:"not-found__message",children:"Page Not Found"}),Object(f.jsxs)("p",{className:"not-found__description",children:["Something went wrong and the page you're looking for",Object(f.jsx)("br",{}),"cannot be found."]}),Object(f.jsx)(s.b,{className:"not-found__to-home",to:"/",children:"Home Page"})]})}),oe=function(){var e=Object(o.useState)([]),t=Object(r.a)(e,2),c=t[0],n=t[1],a=Object(o.useState)(!1),s=Object(r.a)(a,2),l=s[0],u=s[1];return Object(o.useEffect)((function(){u(!0),Y().then((function(e){return n(e)})).finally((function(){return u(!1)}))}),[]),Object(f.jsxs)("div",{className:"page",children:[Object(f.jsx)(g,{}),Object(f.jsx)("main",{className:"main",children:Object(f.jsxs)(i.d,{children:[Object(f.jsx)(i.b,{path:"home",element:Object(f.jsx)(i.a,{to:"/"})}),Object(f.jsx)(i.b,{path:"/",element:Object(f.jsx)(M,{isLoading:l,products:c})}),Object(f.jsxs)(i.b,{path:"/phones",children:[Object(f.jsx)(i.b,{index:!0,element:Object(f.jsx)(K,{})}),Object(f.jsx)(i.b,{path:":productId",element:Object(f.jsx)(ee,{products:c})})]}),Object(f.jsxs)(i.b,{path:"/tablets",children:[Object(f.jsx)(i.b,{index:!0,element:Object(f.jsx)(te,{})}),Object(f.jsx)(i.b,{path:":productId",element:Object(f.jsx)(ee,{products:c})})]}),Object(f.jsxs)(i.b,{path:"/accessories",children:[Object(f.jsx)(i.b,{index:!0,element:Object(f.jsx)(ce,{})}),Object(f.jsx)(i.b,{path:":productId",element:Object(f.jsx)(ee,{products:c})})]}),Object(f.jsxs)(i.b,{path:"/favourites",children:[Object(f.jsx)(i.b,{index:!0,element:Object(f.jsx)(ne,{})}),Object(f.jsx)(i.b,{path:":productId",element:Object(f.jsx)(ee,{products:c})})]}),Object(f.jsx)(i.b,{path:"/cart",element:Object(f.jsx)(re,{})}),Object(f.jsx)(i.b,{path:"*",element:Object(f.jsx)(ie,{})})]})}),Object(f.jsx)(v,{pageUp:function(){window.scrollTo({top:0,behavior:"smooth"})}})]})};a.a.render(Object(f.jsx)(s.a,{children:Object(f.jsx)(oe,{})}),document.getElementById("root"))}]),[[63,1,2]]]);
//# sourceMappingURL=main.d9de6a44.chunk.js.map